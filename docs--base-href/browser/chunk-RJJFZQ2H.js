import{a as k}from"./chunk-IEDRN2C6.js";import{a as L,b as f,c as A,d as D,h as V,i as G,j as B,k as Y,m as $}from"./chunk-XWPKPYAP.js";import"./chunk-MMKAGRZ3.js";import{c as O}from"./chunk-OTHD5K73.js";import"./chunk-5RERRQ3R.js";import{Eb as m,Fb as N,Mb as x,Oa as i,Pb as S,_ as R,ba as T,db as _,fb as o,nb as n,ob as r,pb as v,rc as q,tc as M,ub as I,vb as C}from"./chunk-QOXXASHQ.js";var b=(t,l)=>({"is-valid":t,"is-invalid":l});function j(t,l){t&1&&(n(0,"p",26),m(1,"Name is required"),r())}function z(t,l){t&1&&(n(0,"p",26),m(1,"Name should be more than 3 characters"),r())}function H(t,l){t&1&&(n(0,"p",26),m(1,"Name should be less than 20 characters"),r())}function J(t,l){if(t&1&&(n(0,"div",24),_(1,j,2,0,"p",25)(2,z,2,0,"p",25)(3,H,2,0,"p",25),r()),t&2){let u,s,a,e=C();i(),o("ngIf",(u=e.registerForm.get("name"))==null?null:u.getError("required")),i(),o("ngIf",(s=e.registerForm.get("name"))==null?null:s.getError("minlength")),i(),o("ngIf",(a=e.registerForm.get("name"))==null?null:a.getError("maxlength"))}}function K(t,l){t&1&&(n(0,"p",26),m(1,"Email is required"),r())}function Q(t,l){t&1&&(n(0,"p",26),m(1,"Enter a valid email"),r())}function U(t,l){if(t&1&&(n(0,"div",24),_(1,K,2,0,"p",25)(2,Q,2,0,"p",25),r()),t&2){let u,s,a=C();i(),o("ngIf",(u=a.registerForm.get("email"))==null?null:u.getError("required")),i(),o("ngIf",(s=a.registerForm.get("email"))==null?null:s.getError("email"))}}function W(t,l){t&1&&(n(0,"p",26),m(1,"Password is required"),r())}function X(t,l){t&1&&(n(0,"p",26),m(1,"Enter a valid password"),r())}function Z(t,l){if(t&1&&(n(0,"div",24),_(1,W,2,0,"p",25)(2,X,2,0,"p",25),r()),t&2){let u,s,a=C();i(),o("ngIf",(u=a.registerForm.get("password"))==null?null:u.getError("required")),i(),o("ngIf",(s=a.registerForm.get("password"))==null?null:s.getError("pattern"))}}function ee(t,l){t&1&&(n(0,"p",24),m(1,"Password confirmation is incorrect"),r())}function te(t,l){t&1&&(n(0,"p",26),m(1,"Phone is required"),r())}function re(t,l){t&1&&(n(0,"p",26),m(1,"Enter a valid phone number"),r())}function ne(t,l){if(t&1&&(n(0,"div",24),_(1,te,2,0,"p",25)(2,re,2,0,"p",25),r()),t&2){let u,s,a=C();i(),o("ngIf",(u=a.registerForm.get("phone"))==null?null:u.getError("required")),i(),o("ngIf",(s=a.registerForm.get("phone"))==null?null:s.getError("pattern"))}}function ie(t,l){t&1&&(n(0,"span"),v(1,"i",27),r())}function le(t,l){if(t&1&&(n(0,"p",24),m(1),r()),t&2){let u=C();i(),N(u.msgError)}}function oe(t,l){t&1&&(n(0,"p",28),m(1,"Success"),r())}var fe=(()=>{let l=class l{constructor(){this._AuthService=R(k),this._FormBuilder=R(Y),this._Router=R(O),this.msgSuccess=!1,this.msgError="",this.isLoading=!1,this.registerForm=this._FormBuilder.group({name:[null,[f.required,f.minLength(3),f.maxLength(25)]],email:[null,[f.required,f.email]],password:[null,[f.required,f.pattern(/^\w{6,}$/)]],rePassword:[null],phone:[null,[f.required,f.pattern(/^01[0125][0-9]{8}$/)]]},{validators:this.confirmPassword}),this.showPassword=!1}registerSubmit(){this.registerForm.valid?(this.isLoading=!0,this.registerSub=this._AuthService.setRegisterForm(this.registerForm.value).subscribe({next:s=>{console.log(s),s.message=="success"&&(this.msgSuccess=!0,setTimeout(()=>{this._Router.navigate(["/login"])},1e3)),this.isLoading=!1},error:s=>{this.msgError=s.error.message,this.isLoading=!1,console.log(s)}}),console.log(this.registerForm)):(this.registerForm.setErrors({mismatch:!0}),this.registerForm.markAllAsTouched())}ngOnDestroy(){this.registerSub?.unsubscribe()}confirmPassword(s){return s.get("password")?.value===s.get("rePassword")?.value?null:{mismatch:!0}}togglePasswordVisibility(){this.showPassword=!this.showPassword}};l.\u0275fac=function(a){return new(a||l)},l.\u0275cmp=T({type:l,selectors:[["app-register"]],standalone:!0,features:[x],decls:45,vars:31,consts:[[1,"bg-main-light","shadow","p-2","my-2","rounded-4"],[1,"h2","text-main"],[3,"ngSubmit","formGroup"],[1,"my-2","position-relative"],["for","name"],[1,"input-wrapper"],["formControlName","name","id","name","type","text",1,"form-control",3,"ngClass"],[1,"fa","fa-user","input-icon-symbol"],["class","alert alert-danger w-50 m-0",4,"ngIf"],["for","email"],["formControlName","email","id","email","type","email",1,"form-control",3,"ngClass"],[1,"fa","fa-envelope","input-icon-symbol"],["for","pass"],["formControlName","password","id","pass",1,"form-control",3,"type","ngClass"],[1,"fa","fa-lock","input-icon-symbol"],[1,"fa",3,"click","ngClass"],["for","rePass"],["formControlName","rePassword","id","rePass","type","password",1,"form-control",3,"ngClass"],["for","phone"],["formControlName","phone","id","phone","type","tel",1,"form-control",3,"ngClass"],[1,"fa","fa-phone","input-icon-symbol"],["type","submit",1,"btn-main","ms-auto","d-block"],[4,"ngIf"],["class","text-center text-success",4,"ngIf"],[1,"alert","alert-danger","w-50","m-0"],["class","m-0",4,"ngIf"],[1,"m-0"],[1,"fas","fa-spinner","fa-spin"],[1,"text-center","text-success"]],template:function(a,e){if(a&1&&(n(0,"section",0)(1,"h1",1),m(2,"Register Now:"),r(),n(3,"form",2),I("ngSubmit",function(){return e.registerSubmit()}),n(4,"div",3)(5,"label",4),m(6,"Name"),r(),n(7,"div",5),v(8,"input",6)(9,"i",7),r(),_(10,J,4,3,"div",8),r(),n(11,"div",3)(12,"label",9),m(13,"Email"),r(),n(14,"div",5),v(15,"input",10)(16,"i",11),r(),_(17,U,3,2,"div",8),r(),n(18,"div",3)(19,"label",12),m(20,"Password"),r(),n(21,"div",5),v(22,"input",13)(23,"i",14),n(24,"i",15),I("click",function(){return e.togglePasswordVisibility()}),r()(),_(25,Z,3,2,"div",8),r(),n(26,"div",3)(27,"label",16),m(28,"Confirm Password"),r(),n(29,"div",5),v(30,"input",17)(31,"i",14),r(),_(32,ee,2,0,"p",8),r(),n(33,"div",3)(34,"label",18),m(35,"Phone"),r(),n(36,"div",5),v(37,"input",19)(38,"i",20),r(),_(39,ne,3,2,"div",8),r(),n(40,"button",21),m(41," Register "),_(42,ie,2,0,"span",22),r(),_(43,le,2,1,"p",8)(44,oe,2,0,"p",23),r()()),a&2){let p,F,g,y,d,w,h,P,c,E;i(3),o("formGroup",e.registerForm),i(5),o("ngClass",S(16,b,!((p=e.registerForm.get("name"))!=null&&p.errors)&&(((p=e.registerForm.get("name"))==null?null:p.touched)||((p=e.registerForm.get("name"))==null?null:p.dirty)),((p=e.registerForm.get("name"))==null?null:p.errors)&&(((p=e.registerForm.get("name"))==null?null:p.touched)||((p=e.registerForm.get("name"))==null?null:p.dirty)))),i(2),o("ngIf",((F=e.registerForm.get("name"))==null?null:F.errors)&&(((F=e.registerForm.get("name"))==null?null:F.touched)||((F=e.registerForm.get("name"))==null?null:F.dirty))),i(5),o("ngClass",S(19,b,!((g=e.registerForm.get("email"))!=null&&g.errors)&&(((g=e.registerForm.get("email"))==null?null:g.touched)||((g=e.registerForm.get("email"))==null?null:g.dirty)),((g=e.registerForm.get("email"))==null?null:g.errors)&&(((g=e.registerForm.get("email"))==null?null:g.touched)||((g=e.registerForm.get("email"))==null?null:g.dirty)))),i(2),o("ngIf",((y=e.registerForm.get("email"))==null?null:y.errors)&&(((y=e.registerForm.get("email"))==null?null:y.touched)||((y=e.registerForm.get("email"))==null?null:y.dirty))),i(5),o("type",e.showPassword?"text":"password")("ngClass",S(22,b,!((d=e.registerForm.get("password"))!=null&&d.errors)&&(((d=e.registerForm.get("password"))==null?null:d.touched)||((d=e.registerForm.get("password"))==null?null:d.dirty)),((d=e.registerForm.get("password"))==null?null:d.errors)&&(((d=e.registerForm.get("password"))==null?null:d.touched)||((d=e.registerForm.get("password"))==null?null:d.dirty)))),i(2),o("ngClass",e.showPassword?"fa-eye-slash":"fa-eye"),i(),o("ngIf",((w=e.registerForm.get("password"))==null?null:w.errors)&&(((w=e.registerForm.get("password"))==null?null:w.touched)||((w=e.registerForm.get("password"))==null?null:w.dirty))),i(5),o("ngClass",S(25,b,!e.registerForm.getError("mismatch")&&(((h=e.registerForm.get("rePassword"))==null?null:h.touched)||((h=e.registerForm.get("rePassword"))==null?null:h.dirty)),e.registerForm.getError("mismatch")&&(((h=e.registerForm.get("rePassword"))==null?null:h.touched)||((h=e.registerForm.get("rePassword"))==null?null:h.dirty)))),i(2),o("ngIf",e.registerForm.getError("mismatch")&&(((P=e.registerForm.get("rePassword"))==null?null:P.touched)||((P=e.registerForm.get("rePassword"))==null?null:P.dirty))),i(5),o("ngClass",S(28,b,!((c=e.registerForm.get("phone"))!=null&&c.errors)&&(((c=e.registerForm.get("phone"))==null?null:c.touched)||((c=e.registerForm.get("phone"))==null?null:c.dirty)),((c=e.registerForm.get("phone"))==null?null:c.errors)&&(((c=e.registerForm.get("phone"))==null?null:c.touched)||((c=e.registerForm.get("phone"))==null?null:c.dirty)))),i(2),o("ngIf",((E=e.registerForm.get("phone"))==null?null:E.errors)&&(((E=e.registerForm.get("phone"))==null?null:E.touched)||((E=e.registerForm.get("phone"))==null?null:E.dirty))),i(3),o("ngIf",e.isLoading),i(),o("ngIf",e.msgError),i(),o("ngIf",e.msgSuccess)}},dependencies:[$,V,L,A,D,G,B,q,M],styles:[".input-wrapper[_ngcontent-%COMP%]{position:relative}.input-wrapper[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-left:40px}.input-icon-symbol[_ngcontent-%COMP%]{position:absolute;top:50%;left:10px;transform:translateY(-50%);color:#888;pointer-events:none}.form-control[_ngcontent-%COMP%]:focus{border-color:inherit;-webkit-box-shadow:none;box-shadow:none}.input-wrapper[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{position:absolute;top:50%;right:30px;transform:translateY(-50%);color:#888;cursor:pointer}"]});let t=l;return t})();export{fe as RegisterComponent};
