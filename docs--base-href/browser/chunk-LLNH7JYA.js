import{a as k}from"./chunk-WO6KMTHG.js";import{a as g}from"./chunk-MMKAGRZ3.js";import{a as L,d as I}from"./chunk-OTHD5K73.js";import"./chunk-5RERRQ3R.js";import{Dc as x,Eb as d,Fb as b,Gb as v,Mb as S,Oa as o,Ob as _,U as l,Z as u,Za as C,_ as s,ba as p,fb as h,lb as y,mb as f,nb as n,ob as c}from"./chunk-QOXXASHQ.js";var $=(()=>{let t=class t{constructor(i){this._HttpClient=i}getSubCategories(i){return this._HttpClient.get(`${g.baseUrl}/api/v1/categories/${i}/subcategories`)}getSpecificCategory(i){return this._HttpClient.get(`${g.baseUrl}/api/v1/subcategories/${i}`)}};t.\u0275fac=function(e){return new(e||t)(u(x))},t.\u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var N=(r,t)=>t._id,j=r=>["/details",r];function w(r,t){if(r&1&&(n(0,"div",3)(1,"div",4)(2,"div",5)(3,"h2",6),d(4),c()()()()),r&2){let m=t.$implicit;o(3),h("routerLink",_(2,j,m._id)),o(),b(m.name)}}var U=(()=>{let t=class t{constructor(){this._ActivatedRoute=s(L),this._SubCategoriesService=s($),this._CategoriesService=s(k),this.detailsSubCatList=[],this.categoryList=C([]),this.idCategory="",this.categoryName=""}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:i=>{this.idCategory=i.get("id"),this.idCategory&&(this._CategoriesService.getAllCategories().subscribe({next:e=>{this.categoryList.set(e.data||[]),this.getCategoryNameById(this.idCategory)},error:e=>{console.log(e)}}),this.loadSubCategories(this.idCategory))}})}getCategoryNameById(i){let e=this.categoryList().find(a=>a._id===i);this.categoryName=e?e.name:"Unknown Category"}loadSubCategories(i){this.getSubCat=this._SubCategoriesService.getSubCategories(i).subscribe({next:e=>{this.detailsSubCatList=e.data||[]},error:e=>{console.log(e)}})}ngOnDestroy(){this.getSubCat?.unsubscribe()}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p({type:t,selectors:[["app-details-category"]],standalone:!0,features:[S],decls:6,vars:1,consts:[[1,"my-3"],[1,"my-2","text-main"],[1,"row","g-3"],[1,"col-md-3"],[1,"product","p-2"],[1,"name"],[3,"routerLink"]],template:function(e,a){e&1&&(n(0,"section",0)(1,"h1",1),d(2),c(),n(3,"div",2),y(4,w,5,4,"div",3,N),c()()),e&2&&(o(2),v(" ",a.categoryName," :"),o(2),f(a.detailsSubCatList))},dependencies:[I],styles:[".name[_ngcontent-%COMP%]{cursor:text}"]});let r=t;return r})();export{U as DetailsCategoryComponent};
