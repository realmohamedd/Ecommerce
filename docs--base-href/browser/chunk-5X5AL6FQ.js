import{a as N}from"./chunk-LTH2XR2T.js";import{a as v,b as n,c as S,d as y,e as C,f as a,h as x,i as O,j as w,m as E}from"./chunk-XWPKPYAP.js";import"./chunk-MMKAGRZ3.js";import{a as g}from"./chunk-OTHD5K73.js";import"./chunk-5RERRQ3R.js";import{Eb as o,Mb as b,Oa as p,_ as d,ba as u,fb as f,nb as i,ob as t,pb as s,ub as h}from"./chunk-QOXXASHQ.js";var R=(()=>{let r=class r{constructor(){this._ActivatedRoute=d(g),this._OrderService=d(N),this.orders=new C({details:new a(null,[n.required]),phone:new a(null,[n.required,n.pattern(/^01[0125][0-9]{8}$/)]),city:new a(null,[n.required])}),this.cartId=""}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:e=>{this.cartId=e.get("id"),console.log(this.cartId)}})}orderSubmit(){console.log(this.orders.value),this.checkOut=this._OrderService.checkOut(this.cartId,this.orders.value).subscribe({next:e=>{e.status==="success"&&window.open(e.session.url,"_self"),console.log(e)},error:e=>{console.log(e)}})}ngOnDestroy(){this.checkOut?.unsubscribe()}};r.\u0275fac=function(l){return new(l||r)},r.\u0275cmp=u({type:r,selectors:[["app-orders"]],standalone:!0,features:[b],decls:18,vars:1,consts:[[1,"bg-main-light","rounde-4","shadow","p-2","my-2","w-75","mx-auto"],[1,"text-center"],[3,"ngSubmit","formGroup"],[1,"my-1"],["for","details"],["formControlName","details","id","details",1,"form-control"],["for","phone"],["formControlName","phone","id","phone","type","tel",1,"form-control"],["for","city"],["formControlName","city","id","city","type","text",1,"form-control"],["type","submit",1,"btn-main"]],template:function(l,c){l&1&&(i(0,"section",0)(1,"h1",1),o(2,"shippingAddress"),t(),i(3,"form",2),h("ngSubmit",function(){return c.orderSubmit()}),i(4,"div",3)(5,"label",4),o(6,"Details"),t(),s(7,"textarea",5),t(),i(8,"div",3)(9,"label",6),o(10,"Phone"),t(),s(11,"input",7),t(),i(12,"div",3)(13,"label",8),o(14,"City"),t(),s(15,"input",9),t(),i(16,"button",10),o(17,"Check Out"),t()()()),l&2&&(p(3),f("formGroup",c.orders))},dependencies:[E,x,v,S,y,O,w]});let m=r;return m})();export{R as OrdersComponent};
